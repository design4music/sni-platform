@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    overflow-x: hidden;
  }

  body {
    @apply antialiased;
    overscroll-behavior-x: none;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold;
  }
}

/* Subtle background textures - Toggle by uncommenting one */

/* Option 1: Grid pattern (graph paper) */
.bg-texture-grid {
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* Option 2: Fine dot matrix */
.bg-texture-dots {
  background-image: radial-gradient(circle, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Option 3: Lat/long lines (global theme) */
.bg-texture-latlong {
  background-image:
    linear-gradient(rgba(59, 130, 246, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.04) 1px, transparent 1px);
  background-size: 80px 80px;
}

/* Option 4: Abstract contour lines */
.bg-texture-contour {
  background-image:
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 35px,
      rgba(255, 255, 255, 0.02) 35px,
      rgba(255, 255, 255, 0.02) 70px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 35px,
      rgba(255, 255, 255, 0.02) 35px,
      rgba(255, 255, 255, 0.02) 70px
    );
}

/* Option 5: Hexagon pattern (intelligence/data theme) */
.bg-texture-hex {
  background-image:
    linear-gradient(30deg, rgba(255, 255, 255, 0.03) 12%, transparent 12.5%, transparent 87%, rgba(255, 255, 255, 0.03) 87.5%, rgba(255, 255, 255, 0.03)),
    linear-gradient(150deg, rgba(255, 255, 255, 0.03) 12%, transparent 12.5%, transparent 87%, rgba(255, 255, 255, 0.03) 87.5%, rgba(255, 255, 255, 0.03)),
    linear-gradient(30deg, rgba(255, 255, 255, 0.03) 12%, transparent 12.5%, transparent 87%, rgba(255, 255, 255, 0.03) 87.5%, rgba(255, 255, 255, 0.03)),
    linear-gradient(150deg, rgba(255, 255, 255, 0.03) 12%, transparent 12.5%, transparent 87%, rgba(255, 255, 255, 0.03) 87.5%, rgba(255, 255, 255, 0.03));
  background-size: 80px 140px;
  background-position: 0 0, 0 0, 40px 70px, 40px 70px;
}

/* Option 6: Subtle noise/static (minimal) */
.bg-texture-noise {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
}

/* Source carousel auto-scroll */
@keyframes carousel-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-carousel {
  animation: carousel-scroll 40s linear infinite;
}

.animate-carousel:hover {
  animation-play-state: paused;
}

/* Leaflet overrides for dark theme */
.leaflet-container {
  background: #0a0e1a !important;
}

.leaflet-control-zoom {
  display: none !important;
}

.leaflet-interactive {
  transition: fill-opacity 0.2s ease;
}

.map-tooltip {
  background: rgba(15, 23, 42, 0.95) !important;
  border: 1px solid rgba(59, 130, 246, 0.3) !important;
  border-radius: 8px !important;
  color: #e2e8f0 !important;
  padding: 8px 12px !important;
  font-size: 13px !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4) !important;
}

.map-tooltip::before {
  border-top-color: rgba(59, 130, 246, 0.3) !important;
}

/* Reading mode typography */
.prose {
  @apply text-reading-text;
}

.prose h1 {
  @apply text-4xl font-bold mb-4;
}

.prose h2 {
  @apply text-3xl font-bold mb-3 mt-8;
}

.prose h3 {
  @apply text-2xl font-semibold mb-2 mt-6;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

.prose ul {
  @apply list-disc pl-6 mb-4;
}

.prose li {
  @apply mb-2;
}

.prose a {
  @apply text-blue-600 hover:text-blue-800 underline;
}
